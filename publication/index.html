<!DOCTYPE html>
<html lang="en">

<head>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!--favicon-->
  <link rel="apple-touch-icon" sizes="180x180" href="/favicon_io/apple-touch-icon.png" />
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon_io/favicon-32x32.png" />
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon_io/favicon-16x16.png" />
  <link rel="manifest" href="/favicon_io/site.webmanifest" />

  <!--css-->
  <link rel="stylesheet" href="/styles.css">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
  <link rel="stylesheet" href="https://unpkg.com/bootstrap-table@1.22.1/dist/bootstrap-table.min.css">
  <title>DeepStream-MRI</title>
</head>

<body class="bg-dark">
  <header class="sticky-top">
    <!--nav bar-->
    <nav class="navbar navbar-expand-sm navbar-dark bg-dark" style="--bs-bg-opacity: 0.95">
      <div class="container-fluid">
        <a class="px-2" href="/"><img alt="logo" src="/logo.png" style="width: 40px; height: 40px" /></a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent"
          aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
          <ul class="navbar-nav me-auto">
            <li class="nav-item">
              <a class="nav-link" href="/#info">Info/Github</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="/team">Team</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="/facility">Facility</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="/publication">Publication</a>
            </li>
            <p></p>
          </ul>
        </div>
      </div>
    </nav>
  </header>

  <main>
    <div class="py-3 mx-md-3 bg-light border-radius-2">
      <h1 class="display-4 fw-normal border-bottom-dash text-center">Publication</h1>
      <div class="py-3 px-md-3 table-responsive">
        <table id="table" data-search="true"
          data-show-columns="true" data-show-columns-toggle-all="true" data-show-toggle="true"
          data-show-button-text="true">
          <thead>
            <tr>
              <th data-field="title" data-sortable="true">Title</th>
              <th data-field="author" data-sortable="true">Author</th>
              <th data-field="type" data-sortable="true">Type</th>
              <th data-field="publisher" data-sortable="true">Publisher</th>
              <th data-field="year" data-sortable="true">Year</th>
            </tr>
          </thead>
        </table>
      </div>
    </div>
  </main>

  <footer class="container py-5">
    <div class="row">
      <div class="col-6 col-md-3">
        <h5 class="text-secondary">Pages</h5>
        <ul class="list-unstyled">
          <li><a class="link-secondary" href="/#info">Info/Github</a></li>
          <li><a class="link-secondary" href="/team">Team</a></li>
          <li><a class="link-secondary" href="/facility">Facility</a></li>
          <li><a class="link-secondary" href="/publication">Publication</a></li>
        </ul>
      </div>
    </div>
    <div class="col-12">
      <span>Logo</span>
      <small class="d-block mb-3 text-muted">Â© 2022-2023</small>
    </div>
  </footer>


  <script src="https://cdn.jsdelivr.net/npm/jquery/dist/jquery.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
    crossorigin="anonymous"></script>
  <script src="https://unpkg.com/bootstrap-table@1.22.1/dist/bootstrap-table.min.js"></script>
  <script src="https://unpkg.com/papaparse@latest/papaparse.min.js"></script>
  <script>
    /*
    $('#table').on('load-success.bs.table', function () {
      $('.toggle-all').click();
    });
    */
    var $table = $('#table')
    Papa.parse('./publications.csv', {
      header: true,
      complete: function(results, file) {
        var data = results.data
        console.log(data)
        for (let i = 0; i < data.length; i++) {
          if (data[i].link) {
            data[i].title = '<a href="' + data[i].link + '" target="_blank">' + data[i].title + '</a>'
          }
          console.log(data[i]);
        }
        $table.bootstrapTable({ data: data });
      },
      download: true,
    })
  </script>
</body>

</html>